# ğŸ—ï¸ Arquitetura - FinanÃ§as EDN

## VisÃ£o Geral da Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (Next.js)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  React Components (App Router)                â”‚  â”‚
â”‚  â”‚  - Login / Register                           â”‚  â”‚
â”‚  â”‚  - Dashboard                                  â”‚  â”‚
â”‚  â”‚  - Accounts, Investments, Transactions       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â†“                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  State Management (Zustand)                  â”‚  â”‚
â”‚  â”‚  - Auth Store                                â”‚  â”‚
â”‚  â”‚  - User Info                                 â”‚  â”‚
â”‚  â”‚  - Tokens                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â†“                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  HTTP Client (Axios)                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API Routes (Next.js)               â”‚
â”‚  /api/auth/login                                    â”‚
â”‚  /api/auth/register                                 â”‚
â”‚  /api/user                                          â”‚
â”‚  /api/accounts                                      â”‚
â”‚  /api/transactions                                  â”‚
â”‚  /api/investments                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Business Logic & Validation               â”‚
â”‚  /lib/auth.ts          - AutenticaÃ§Ã£o               â”‚
â”‚  /lib/user.ts          - UsuÃ¡rios                   â”‚
â”‚  /lib/prisma.ts        - BD                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Data Layer (Prisma ORM)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Models:                                     â”‚  â”‚
â”‚  â”‚  - User                                      â”‚  â”‚
â”‚  â”‚  - Transaction                               â”‚  â”‚
â”‚  â”‚  - BankAccount                               â”‚  â”‚
â”‚  â”‚  - Investment                                â”‚  â”‚
â”‚  â”‚  - ExpenseCategory                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          SQLite Database                            â”‚
â”‚  dev.db (Desenvolvimento)                           â”‚
â”‚  prod.db (ProduÃ§Ã£o)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Stack TecnolÃ³gico

### Frontend
```typescript
- Next.js 14 (App Router)
- React 18
- TypeScript
- Tailwind CSS
- Zustand (State Management)
- Axios (HTTP Client)
- Orbitron (Google Fonts)
```

### Backend
```typescript
- Next.js API Routes
- Prisma ORM
- SQLite
- JWT (AutenticaÃ§Ã£o)
- Bcrypt (Hash de Senha)
```

### DevOps & Ferramentas
```
- Node.js 18+
- npm / yarn
- Prisma CLI
- TypeScript Compiler
```

## Fluxo de AutenticaÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. Submete credenciais
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  /api/auth/register     â”‚
â”‚  ou /api/auth/login     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. Valida dados
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Busca no BD (Prisma)   â”‚
â”‚  Valida senha (Bcrypt)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 3. Retorna token JWT
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cliente (Zustand)      â”‚
â”‚  - Salva token          â”‚
â”‚  - Salva dados de user  â”‚
â”‚  - localStorage         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 4. Redirect Dashboard
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RequisiÃ§Ãµes com JWT    â”‚
â”‚  Headers:               â”‚
â”‚  Authorization: Bearer  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Fluxo de Dados - Exemplo: Criar TransaÃ§Ã£o

```
1. FRONTEND (React)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User preenche formulÃ¡rio de         â”‚
â”‚ transaÃ§Ã£o:                          â”‚
â”‚ - type: "salary"                    â”‚
â”‚ - category: "SalÃ¡rio"               â”‚
â”‚ - amount: 5000                      â”‚
â”‚ - description: "SalÃ¡rio mensal"     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ onClick â†’ handleAddTransaction()
         â†“
2. AXIOS (HTTP Client)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/transactions              â”‚
â”‚ {                                   â”‚
â”‚   type: "salary",                   â”‚
â”‚   category: "SalÃ¡rio",              â”‚
â”‚   amount: 5000,                     â”‚
â”‚   description: "SalÃ¡rio mensal"     â”‚
â”‚ }                                   â”‚
â”‚ Headers: {                          â”‚
â”‚   Authorization: "Bearer token"     â”‚
â”‚ }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
3. BACKEND (Next.js API)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ src/app/api/transactions/route.ts   â”‚
â”‚ POST handler:                       â”‚
â”‚ - Verifica token JWT                â”‚
â”‚ - Extrai userId                     â”‚
â”‚ - Valida dados                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
4. DATABASE (Prisma)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ prisma.transaction.create({         â”‚
â”‚   type: "salary",                   â”‚
â”‚   category: "SalÃ¡rio",              â”‚
â”‚   amount: 5000,                     â”‚
â”‚   description: "...",               â”‚
â”‚   userId: "user-id",                â”‚
â”‚   date: new Date()                  â”‚
â”‚ })                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ INSERT INTO transactions (...)
         â†“
5. SQLITE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ dev.db                              â”‚
â”‚ Armazena registro                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
6. RESPOSTA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Response: 201 Created               â”‚
â”‚ Body: { transaction object }        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
7. FRONTEND (React)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ - Mostra sucesso                    â”‚
â”‚ - Recarrega lista                   â”‚
â”‚ - Atualiza UI                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Estrutura de Pastas Detalhada

```
/workspaces/financasEDN/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ (routes)/
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx           # Layout principal
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx             # Home
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx         # PÃ¡gina de login
â”‚   â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx         # PÃ¡gina de registro
â”‚   â”‚   â”‚   â””â”€â”€ dashboard/
â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx         # Dashboard principal
â”‚   â”‚   â”‚       â”œâ”€â”€ accounts/
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ page.tsx     # Gerenciar contas
â”‚   â”‚   â”‚       â”œâ”€â”€ investments/
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ page.tsx     # Gerenciar investimentos
â”‚   â”‚   â”‚       â””â”€â”€ transactions/
â”‚   â”‚   â”‚           â””â”€â”€ page.tsx     # TransaÃ§Ãµes
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login/route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register/route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ user/route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ accounts/route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ transactions/route.ts
â”‚   â”‚   â”‚   â””â”€â”€ investments/route.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ globals.css              # Estilos globais
â”‚   â”‚   â””â”€â”€ layout.tsx               # Root layout
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ auth.ts                  # LÃ³gica de autenticaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ user.ts                  # LÃ³gica de usuÃ¡rios
â”‚   â”‚   â””â”€â”€ prisma.ts                # Cliente Prisma singleton
â”‚   â”‚
â”‚   â””â”€â”€ store/
â”‚       â””â”€â”€ auth.ts                  # Zustand store de autenticaÃ§Ã£o
â”‚
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma                # DefiniÃ§Ã£o do banco
â”‚   â”œâ”€â”€ migrations/                  # HistÃ³rico de migraÃ§Ãµes
â”‚   â”‚   â””â”€â”€ [timestamp]_init/
â”‚   â”œâ”€â”€ seed.ts                      # Dados iniciais
â”‚   â””â”€â”€ dev.db                       # SQLite (gerado)
â”‚
â”œâ”€â”€ public/
â”‚   â””â”€â”€ (arquivos estÃ¡ticos)
â”‚
â”œâ”€â”€ package.json                     # DependÃªncias
â”œâ”€â”€ tsconfig.json                    # Config TypeScript
â”œâ”€â”€ tailwind.config.ts               # Config Tailwind
â”œâ”€â”€ postcss.config.js                # Config PostCSS
â”œâ”€â”€ next.config.ts                   # Config Next.js
â”œâ”€â”€ .env.local                       # VariÃ¡veis de ambiente
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.md
â”œâ”€â”€ QUICKSTART.md
â”œâ”€â”€ CUSTOMIZATION.md
â””â”€â”€ ROADMAP.md
```

## Models & RelaÃ§Ãµes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: String (PK)                              â”‚
â”‚ name: String                                 â”‚
â”‚ email: String (UNIQUE)                       â”‚
â”‚ password: String (hash)                      â”‚
â”‚ createdAt: DateTime                          â”‚
â”‚ updatedAt: DateTime                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Relations:                                   â”‚
â”‚ â†“ 1:N â†’ Transactions                         â”‚
â”‚ â†“ 1:N â†’ BankAccounts                         â”‚
â”‚ â†“ 1:N â†’ Investments                          â”‚
â”‚ â†“ 1:N â†’ ExpenseCategories                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Transaction                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: String (PK)                              â”‚
â”‚ type: String (salary|house_expense|...)      â”‚
â”‚ category: String                             â”‚
â”‚ amount: Float                                â”‚
â”‚ description: String                          â”‚
â”‚ date: DateTime                               â”‚
â”‚ userId: String (FK â†’ User)                   â”‚
â”‚ expenseCategoryId: String (FK â†’ Category)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BankAccount                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: String (PK)                              â”‚
â”‚ name: String (editÃ¡vel)                      â”‚
â”‚ balance: Float                               â”‚
â”‚ type: String (checking|savings)              â”‚
â”‚ userId: String (FK â†’ User)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Investment                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: String (PK)                              â”‚
â”‚ name: String                                 â”‚
â”‚ type: String (stocks|bonds|crypto|funds)     â”‚
â”‚ amount: Float (investido)                    â”‚
â”‚ currentValue: Float (valor atual)            â”‚
â”‚ roi: Float (retorno %)                       â”‚
â”‚ userId: String (FK â†’ User)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ExpenseCategory                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: String (PK)                              â”‚
â”‚ name: String                                 â”‚
â”‚ color: String (hex)                          â”‚
â”‚ userId: String (FK â†’ User)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Relations:                                   â”‚
â”‚ â†“ 1:N â†’ Transactions                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Fluxo de RequisiÃ§Ã£o API

```
HTTP Request
    â†“
Next.js Router (matching rota)
    â†“
Middleware de AutenticaÃ§Ã£o
    â”œâ”€ Extrai token JWT
    â”œâ”€ Decodifica
    â””â”€ Valida expiraÃ§Ã£o
    â†“
Handler (GET/POST/PUT/DELETE)
    â”œâ”€ Valida dados de entrada
    â”œâ”€ Acessa BD via Prisma
    â””â”€ Retorna resposta
    â†“
Response (JSON)
    â”œâ”€ Status code
    â”œâ”€ Headers
    â””â”€ Body
    â†“
Cliente (React)
    â”œâ”€ Processa resposta
    â”œâ”€ Atualiza state
    â””â”€ Re-renderiza UI
```

## Performance Considerations

### Frontend
- âœ… Code splitting automÃ¡tico do Next.js
- âœ… CSS-in-JS com Tailwind (purged)
- âœ… Imagens otimizadas
- âœ… State minimizado com Zustand

### Backend
- âœ… Prisma lazy loading
- âœ… Ãndices no banco (userId)
- âœ… PaginaÃ§Ã£o em requisiÃ§Ãµes (take: 50)
- âœ… Cache HTTP via headers

### Banco de Dados
- âœ… SQLite Ã© rÃ¡pido para uso local
- âœ… Ãndices em foreign keys
- âœ… RelaÃ§Ãµes bem estruturadas

## SeguranÃ§a

### ImplementaÃ§Ãµes
- âœ… Senhas com Bcrypt (10 rounds)
- âœ… JWT para autenticaÃ§Ã£o stateless
- âœ… ValidaÃ§Ã£o de entrada
- âœ… CORS (habilitado na produÃ§Ã£o)
- âœ… Isolamento de dados por usuÃ¡rio

### RecomendaÃ§Ãµes
- âš ï¸ Usar HTTPS em produÃ§Ã£o
- âš ï¸ Alterar JWT_SECRET em produÃ§Ã£o
- âš ï¸ Adicionar rate limiting
- âš ï¸ Implementar CSRF protection

---

**VersÃ£o:** 1.0  
**Ãšltima atualizaÃ§Ã£o:** Janeiro 2024
